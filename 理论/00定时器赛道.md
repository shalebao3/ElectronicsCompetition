### ⏱️ PSC\ARR\CNT\CCR

$$
Update\_Event (Hz) = \frac{Timer\_Clock}{(PSC + 1) \times (ARR + 1)}
$$


### 计数方式
1. **向上计数** ⬆️
“向上计数”（Upcounting Mode）是定时器最基本的工作方式。简单来说，它就是一个从 0 开始不断累加，达到上限后“归零”并重新开始的过程。

向上计数的执行过程想象一个自动计数的计数器（寄存器名为 CNT）：从 0 开始：计数器从 $0$ 开始，每接收到一个时钟脉冲（经过预分频后的时钟），数值就加 $1$。持续累加：$0 \to 1 \to 2 \to 3 \dots$达到目标（ARR）：一直加到你设置的自动重装载寄存器（$ARR$）的值。在你的代码中，这个值是 $7199$。溢出与重置：当计数器达到 $7199$ 后的下一个脉冲，它会发生溢出（Update Event），瞬间跳回 $0$，并重新开始下一轮计数。


2. **向下计数** ⬇️
3. **中心对齐** Center Aligned
### 🛠️ STM32 定时器配置四部曲

无论你使用哪种定时器（基本、通用或高级），通用的配置步骤通常如下：

1. **开启时钟 (RCC Enable)** ⚡
   * STM32 的外设默认是不走电的。你需要先在 RCC（复位和时钟控制）模块中开启对应定时器的时钟（例如 `APB1` 或 `APB2` 总线上的时钟）。
2. **配置时基单元 (Time Base Init)** 📅
   * 这里就是填入你公式中计算出的参数：
     * **Prescaler (PSC)** ：预分频系数。
     * **Period (ARR)** ：自动重装载值。
     * **Counter Mode** ：计数模式（向上计数、向下计数或中心对齐）。
3. **配置中断/输出通道 (Optional)** 🔔
   * 如果你需要定时触发任务，就开启 **更新中断 (Update Interrupt)** 。
   * 如果你要做 PWM，就配置对应的 **比较输出通道 (Output Compare)** 。
4. **使能定时器 (Cmd/Enable)** ▶️
   * 最后一步，拨动开关，让计数器正式开始跳动。

### 🚩 赛道理论


* **运动员 (**$CNT$**)** ：他代表当前的计数值，正不知疲倦地向前奔跑。
* **终点线 (**$ARR$**)** ：他决定了赛道的总长度。一旦运动员跨过这条线，就会立刻回到起点重新开始。🏁
* **补给站 (**$CCR$**)** ：它被放置在赛道的某个特定位置。当运动员还没跑到它时，手中的旗子是升起的（高电平）；一旦跑过它，旗子就降下了（低电平）。🚩
